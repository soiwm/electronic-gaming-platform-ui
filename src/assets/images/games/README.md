# 游戏Logo功能说明

## 图片存储方式

游戏logo图片通过上传接口存储在后端服务器的 `images/game/` 目录下，前端只需上传图片文件，服务器会返回图片访问路径。

## 支持的图片格式

- JPG (.jpg)
- PNG (.png)

## 建议的图片尺寸

- 推荐尺寸：200x200像素
- 最大文件大小：2MB

## 使用方法

### 1. 添加游戏时上传Logo

1. 点击"添加游戏"按钮
2. 在"游戏Logo"区域点击上传按钮
3. 选择JPG或PNG格式的图片
4. 图片将自动上传到服务器并预览
5. 填写其他游戏信息
6. 点击"确认添加"保存

### 2. 编辑游戏时更换Logo

1. 点击游戏卡片上的"修改"按钮
2. 在"游戏Logo"区域点击上传按钮
3. 选择新的JPG或PNG格式图片
4. 图片将自动上传到服务器并预览
5. 修改其他游戏信息
6. 点击"确认修改"保存

## 图片访问方式

游戏logo图片通过以下URL格式访问：
```
/images/game/[图片文件名]
```

这些请求会通过Vue代理转发到后端服务器（http://localhost:8080）。

## 默认Logo

如果游戏没有设置logo，系统将显示默认的游戏logo图标：
```
/images/game/default-game.svg
```

默认logo已放置在 `public/images/game/` 目录下，可以通过前端直接访问。

## 问题解决

### 404错误和卡顿问题

1. **问题原因**：
   - 图片路径处理不当
   - 默认图片使用了前端资源路径，无法正确访问
   - 图片加载失败处理可能导致无限循环请求
   - 后端返回的 `/images/game/` 格式路径未正确处理
   - 前端端口号（9090）和后端端口号（8080）不一致

2. **解决方案**：
   - 统一使用 `getGameLogoUrl` 方法处理所有图片路径
   - 将默认logo放置在 `public/images/game/` 目录下
   - 使用 `@error.once` 修饰符和条件检查防止无限循环
   - 修正 `/images/game/` 格式路径的处理，使用相对路径通过代理访问
   - 在Vue配置中添加 `/images` 路径的代理配置，将请求转发到后端服务器
   - 添加多种路径格式的兼容处理

## 注意事项

1. 图片会通过上传接口发送到后端服务器存储
2. 上传的图片会自动进行格式和大小验证
3. 如果图片加载失败，将自动显示默认logo
4. 建议使用正方形的图片以获得最佳显示效果
5. 图片上传成功后会显示成功提示消息
6. 默认logo已放置在 `public/images/game/` 目录下，确保可访问